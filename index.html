<!DOCTYPE html>
<html>
<head>
    <!--    link css-->
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">

   
</head>

<script src="script.js"></script>
<body id="app" class="d-flex h-100">
  <script src="https://cdn.tailwindcss.com"></script>

  <body class="relative w-full h-screen m-0 
      font-redHatText">
    <section class="w-full h-full flex flex-col justify-center items-center" id="vid">
      
      <!--Time-->
      <div id="vido">
        <video autoplay muted loop id="myVideo" >
          <source src="vid.mp4" type="video/mp4">
          Your browser does not support HTML5 video.
        </video>
      </div>
      
      
      <div bg-gradient-to-b from-black100 to-black600 id="counter">
    
        <div id="timer">
          <div class="digit" id="digit1"><img src="0.png" alt="Digit 1" class="digitImage" id="digit1Image"></div>
          <div class="digit" id="digit2"><img src="0.png" alt="Digit 1" class="digitImage" id="digit2Image"></div>
          <div class="digit" id="space1"></div>
          <img src="DAY.png" alt="Days" class="image" id="daysImage">
          <div class="digit" id="digit3"><img src="0.png" alt="Digit 1" class="digitImage" id="digit3Image"></div>
          <div class="digit" id="digit4"><img src="0.png" alt="Digit 1" class="digitImage"  id="digit4Image"></div>
          <div class="digit" id="space2"></div>
          <img src="HOUR.png" alt="Hours" class="image" id="hoursImage">
          <div class="digit" id="digit5"><img src="0.png" alt="Digit 1" class="digitImage"  id="digit5Image"></div>
          <div class="digit" id="digit6"><img src="0.png" alt="Digit 1" class="digitImage"  id="digit6Image"></div>
          <div class="digit" id="space3"></div>
          <img src="MIN.png" alt="Minutes" class="image" id="minImage">
          <div class="digit" id="digit7"><img src="0.png" alt="Digit 1" class="digitImage"  id="digit7Image"></div>
          <div class="digit" id="digit8"><img src="0.png" alt="Digit 1" class="digitImage" id="digit8Image"></div>
          <img src="SEC.png" alt="Seconds" class="image" id="secondsImage">
        </div>
        <div id="rc">
          <img src="REVOLUTION.png" alt="REVOLUTION" class="image_lol" id="revImage">
          <img src="COMING.png" alt="COMING" class="image_lol" id="comImage">
        </div>
      </div>
      
      
      <script>
        // Define your count to date (replace this with your target date)
        const countToDate = new Date("2023-10-31T00:00:00").getTime();
        
        setInterval(() => {
          const currentDate = new Date();
          const timeBetweenDates = Math.ceil((countToDate - currentDate) / 1000);
          flipAllcard(timeBetweenDates);
        }, 250);
        setInterval(()=>{positionAllElement();},2000)
        
        
        /* Populate the cards with the data coming from the Declared Time */
        function flipAllcard(time) {
          const seconds = ('0' + time % 60).slice(-2); // Add leading zero to seconds
          const minutes = ('0' + Math.floor(time / 60) % 60).slice(-2); // Add leading zero to minutes
          const hours = ('0' + Math.floor(time / 3600) % 24).slice(-2); // Add leading zero to hours
          const days = ('0' + Math.floor(time / 86400)).slice(-2); // Add leading zero to days
          
          document.getElementById("digit1Image").src= + days.toString()[0] + ".png";
          document.getElementById("digit2Image").src= + days.toString()[1] + ".png";
          document.getElementById("digit3Image").src= + hours.toString()[0] + ".png";
          document.getElementById("digit4Image").src= + hours.toString()[1] + ".png";
          document.getElementById("digit5Image").src= + minutes.toString()[0] + ".png";
          document.getElementById("digit6Image").src= + minutes.toString()[1] + ".png";
          document.getElementById("digit7Image").src = seconds.toString()[0] + ".png";
          document.getElementById("digit8Image").src = seconds.toString()[1] + ".png";
          
          // Add spaces between days, hours, minutes, and seconds
          //document.getElementById("space1").style.backgroundImage = "url(_.png)";
          //document.getElementById("space2").style.backgroundImage = "url(_.png)";
          //document.getElementById("space3").style.backgroundImage = "url(_.png)";
        }
        const video = document.getElementById('myVideo');
        const vid = document.getElementById('vid');
        
        vid.addEventListener("click", () => {
          if (video.muted) {
            video.muted = false;
          } else {
            video.muted = true;
          }
        });
        function updateImageWidth() {
          const digit1 = document.getElementById("digit1Image");
          const digit2 = document.getElementById("digit2Image");
          const digitImages = document.querySelectorAll(".image");
          
          const width = (parseFloat(window.getComputedStyle(digit1).width) +
          parseFloat(window.getComputedStyle(digit2).width)) / 2;
          
          digitImages.forEach(image => {
            image.style.width = `${width * 7 + 10}px`;
          });
        }
        updateImageWidth();
        
        // Update the image widths whenever the window is resized
        window.addEventListener('resize', updateImageWidth);
        // Get the digit 1 and digit 2 containers and days element
        const digit1Container = document.getElementById("digit1");
        const digit3Container = document.getElementById("digit3");
        const digit5Container = document.getElementById("digit5");
        const digit7Container = document.getElementById("digit7");
        
        const daysImage = document.getElementById("daysImage");
        const hoursImage = document.getElementById("hoursImage");
        const minImage = document.getElementById("minImage");
        const secondsImage = document.getElementById("secondsImage");
        
        function positionAllElement() {
          // Get the X and Y coordinates of digit 1 and digit 2 containers
          positionElement(daysImage,digit1Container,5,12);
          positionElement(hoursImage,digit3Container,5,12);
          positionElement(minImage,digit5Container,5,12);
          positionElement(secondsImage,digit7Container,5,12);
          
        }
        const mobile = window.matchMedia('(min-width: 768px)');
        
        if(mobile.matches){
          const image = document.createElement("img");
          image.src = "Andre above.png"; // Set the source of the image
          image.alt = "AABOVE"; // Set alt text for accessibility
          image.style.height = "100vh"; // Set the width of the image as needed
          image.style.width = "100vw"; // Set the width of the image as needed
          document.body.appendChild(image); 
          image.style.position = "fixed"; // Set the position to fixed
          image.style.zIndex = "-11";
          image.style.left=0;
          image.style.top=0;
        }
        
        function positionElement(element, digitContainer, offsetX, offsetY) {
          const digitX = digitContainer.getBoundingClientRect().right;
          const digitY = digitContainer.getBoundingClientRect().bottom;
          
          const elementX = digitX- (element.width/2)+offsetX;
          const elementY = digitY - (element.height/2)+Math.min(offsetY,element.height);
          
          element.style.left = `${elementX}px`;
          element.style.top = `${elementY}px`;
        }
        
        // Call the function to position the days element initially
        positionAllElement();
        
        // Call the function whenever the window is resized
        window.addEventListener('resize', positionAllElement);
        
      </script>         
    </section>
    </body>
    </html>